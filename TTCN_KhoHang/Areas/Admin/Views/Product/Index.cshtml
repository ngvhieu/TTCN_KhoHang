@using TTCN_KhoHang.Models
@using System.Globalization
@model IList<Product>

<main class="content">
	@await Component.InvokeAsync("MenuView")

	<div class="card border-0 shadow mb-4">
		<div class="card-body">
			<div class="table-responsive">
				<table class="table table-centered table-nowrap mb-0 rounded">
					<thead class="thead-light">
						<tr>
							<th class="border-0 rounded-start">#</th>
							<th class="border-0">Name</th>
							<th class="border-0">Category ID</th>
							<th class="border-0">Price in/out (VND)</th>
							<th class="border-0">Quantity</th>
							<th class="border-0">Mfg/Exp</th>
							<th class="border-0">Location</th>
							<th class="border-0 rounded-end">Action</th>
						</tr>
					</thead>
					<tbody>
						@foreach (var pd in Model)
						{
							<tr>
								<td><a href="#" class="text-primary fw-bold">@pd.product_id</a></td>
								<td>@pd.name</td>
								<td>@pd.category_id</td>
								<td>@pd.price_in / @pd.price_out</td>
								<td>@pd.quantity</td>
								<td>
									@(pd.mfg.HasValue ? pd.mfg.Value.ToString("dd/MM/yyyy") : "N/A") /
									@(pd.exp.HasValue ? pd.exp.Value.ToString("dd/MM/yyyy") : "N/A")
								</td>
								<td>@pd.location</td>
								<td style="text-align: center;">
									<div class="btn-group">
										<a class="dropdown-item" asp-controller="Product" asp-action="Edit" asp-route-id="@pd.product_id">
											<span class="fas fa-edit me-2"></span>Edit
										</a>
										<form asp-controller="Product" asp-action="Delete" asp-route-id="@pd.product_id" method="post">
											<button type="submit" class="dropdown-item text-danger rounded-bottom">
												<span class="fas fa-trash-alt me-2"></span>Removes
											</button>
										</form>
									</div>
								</td>
							</tr>
						}
					</tbody>
				</table>
			</div>
		</div>
	</div>
</main>
